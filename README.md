# TechMatch - ç‰¹è¨±ãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

## ğŸ“‹ æ¦‚è¦

ç‰¹è¨±ä¿æœ‰è€…ã¨ä¼æ¥­ã‚’ã¤ãªããƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚

- **ç‰¹è¨±ä¿æœ‰è€…**: è‡ªç¤¾ã®ç‰¹è¨±ã‚’ç™»éŒ²ãƒ»å…¬é–‹
- **ä¼æ¥­**: èˆˆå‘³ã®ã‚ã‚‹ç‰¹è¨±ã‚’é–²è¦§ãƒ»å•ã„åˆã‚ã›
- **ç®¡ç†è€…**: ç‰¹è¨±ã®æ‰¿èªãƒ»ç®¡ç†

## ğŸ—ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: HTML, CSS, JavaScript
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Node.js + Express
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Supabase (PostgreSQL)
- **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†**: WordPress (Headless CMS)
- **èªè¨¼**: JWT (JSON Web Token)

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ 

### 1. usersï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰
- id (UUID)
- email, password, name
- user_type ('seller', 'buyer', 'admin')
- organization
- created_at

### 2. patentsï¼ˆç‰¹è¨±ï¼‰
- id (UUID)
- title, description, problem, usage, advantage
- category, patent_number, price
- status ('available', 'sold', 'reserved')
- approval_status ('pending', 'approved', 'rejected')
- owner_id â†’ users
- image
- created_at

### 3. interestsï¼ˆèˆˆå‘³è¡¨æ˜ï¼‰
- id (UUID)
- patent_id â†’ patents
- buyer_id â†’ users
- message, status
- created_at

### 4. messagesï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰
- id (UUID)
- sender_id, receiver_id â†’ users
- patent_id â†’ patents
- subject, content, is_read
- created_at

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªã‚‚ã®

- Node.js (v16ä»¥ä¸Š)
- Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- WordPressã‚µã‚¤ãƒˆï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†ç”¨ï¼‰

### 1. Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

1. https://supabase.com ã«ã‚¢ã‚¯ã‚»ã‚¹
2. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
3. ãƒªãƒ¼ã‚¸ãƒ§ãƒ³: Tokyo
4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ

1. Supabaseãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ â†’ ã€ŒSQL Editorã€
2. `supabase-schema.sql`ã®å†…å®¹ã‚’å®Ÿè¡Œ
3. ã€ŒTable Editorã€ã§4ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç¢ºèª

### 3. ç’°å¢ƒå¤‰æ•°è¨­å®š

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’è¨­å®šï¼š

```env
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key
JWT_SECRET=your-secret-key
WP_BASE_URL=http://techmatch.jp/blog
NODE_ENV=development
```

### 4. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼†èµ·å‹•

```bash
npm install
npm start
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ã

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### ç‰¹è¨±ä¿æœ‰è€…å‘ã‘

- ç‰¹è¨±ã®ç™»éŒ²ãƒ»ç®¡ç†
- èˆˆå‘³è¡¨æ˜ã®ç¢ºèª
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½

### ä¼æ¥­å‘ã‘

- ç‰¹è¨±ã®æ¤œç´¢ãƒ»é–²è¦§
- èˆˆå‘³è¡¨æ˜
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ©Ÿèƒ½

### ç®¡ç†è€…å‘ã‘

- ç‰¹è¨±ã®æ‰¿èªãƒ»å´ä¸‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
- çµ±è¨ˆæƒ…å ±

## ğŸ“ WordPressé€£æº

### æŠ€è¡“ã‚³ãƒ©ãƒ 

1. WordPressã§è¨˜äº‹ä½œæˆ
2. ã‚«ãƒ†ã‚´ãƒªãƒ¼: ã€ŒæŠ€è¡“ã‚³ãƒ©ãƒ ã€
3. æŠœç²‹ï¼ˆæ¦‚è¦ï¼‰ã‚’å…¥åŠ›
4. ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒç”»åƒã‚’è¨­å®š
5. å…¬é–‹

### ç ”ç©¶è€…ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼

1. WordPressã§è¨˜äº‹ä½œæˆ
2. ã‚«ãƒ†ã‚´ãƒªãƒ¼: ã€Œç ”ç©¶è€…ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ã€
3. æŠœç²‹ï¼ˆæ¦‚è¦ï¼‰ã‚’å…¥åŠ›
4. ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒç”»åƒã‚’è¨­å®š
5. å…¬é–‹

## ğŸ”§ é–‹ç™º

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
techmatch-optimized/
â”œâ”€â”€ .env                    # ç’°å¢ƒå¤‰æ•°
â”œâ”€â”€ server.js               # ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒãƒ¼
â”œâ”€â”€ supabase.js             # Supabaseæ¥ç¶š
â”œâ”€â”€ supabase-schema.sql     # DBã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ package.json            # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ èµ·å‹•ã‚¬ã‚¤ãƒ‰.txt          # æ—¥æœ¬èªã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ README.md               # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ public/
    â”œâ”€â”€ index.html          # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
    â”œâ”€â”€ auth.html           # ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²
    â”œâ”€â”€ admin.html          # ç®¡ç†è€…ãƒšãƒ¼ã‚¸
    â”œâ”€â”€ mypage-seller.html  # å‡ºå“è€…ãƒã‚¤ãƒšãƒ¼ã‚¸
    â”œâ”€â”€ mypage-buyer.html   # è²·ã„æ‰‹ãƒã‚¤ãƒšãƒ¼ã‚¸
    â”œâ”€â”€ column.html         # æŠ€è¡“ã‚³ãƒ©ãƒ ä¸€è¦§
    â”œâ”€â”€ interview.html      # ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ä¸€è¦§
    â””â”€â”€ ...
```

### API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### èªè¨¼
- `POST /api/register` - æ–°è¦ç™»éŒ²
- `POST /api/login` - ãƒ­ã‚°ã‚¤ãƒ³
- `POST /api/logout` - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
- `GET /api/me` - ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

#### ç‰¹è¨±
- `GET /api/patents` - ç‰¹è¨±ä¸€è¦§
- `GET /api/patents/:id` - ç‰¹è¨±è©³ç´°
- `POST /api/patents` - ç‰¹è¨±ç™»éŒ²ï¼ˆèªè¨¼å¿…é ˆï¼‰
- `PUT /api/patents/:id` - ç‰¹è¨±æ›´æ–°ï¼ˆèªè¨¼å¿…é ˆï¼‰
- `DELETE /api/patents/:id` - ç‰¹è¨±å‰Šé™¤ï¼ˆèªè¨¼å¿…é ˆï¼‰

#### ç®¡ç†è€…
- `GET /api/admin/patents/pending` - æ‰¿èªå¾…ã¡ç‰¹è¨±
- `PUT /api/admin/patents/:id/approve` - ç‰¹è¨±æ‰¿èª
- `PUT /api/admin/patents/:id/reject` - ç‰¹è¨±å´ä¸‹

#### èˆˆå‘³è¡¨æ˜
- `POST /api/interests` - èˆˆå‘³è¡¨æ˜ç™»éŒ²
- `GET /api/interests/received` - å—ä¿¡ã—ãŸèˆˆå‘³è¡¨æ˜
- `GET /api/interests/sent` - é€ä¿¡ã—ãŸèˆˆå‘³è¡¨æ˜

#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- `GET /api/messages` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§
- `POST /api/messages` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- `PUT /api/messages/:id/read` - æ—¢èª­ã«ã™ã‚‹

#### WordPressé€£æº
- `GET /api/columns` - æŠ€è¡“ã‚³ãƒ©ãƒ ä¸€è¦§
- `GET /api/columns/:id` - ã‚³ãƒ©ãƒ è©³ç´°
- `GET /api/interviews` - ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ä¸€è¦§
- `GET /api/interviews/:id` - ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼è©³ç´°

## ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### æœ¬ç•ªç’°å¢ƒã§ã®æ³¨æ„äº‹é …

1. **JWT_SECRETã‚’å¤‰æ›´**
   - ãƒ©ãƒ³ãƒ€ãƒ ã§å¼·åŠ›ãªæ–‡å­—åˆ—ã«å¤‰æ›´
   
2. **HTTPSä½¿ç”¨**
   - æœ¬ç•ªç’°å¢ƒã§ã¯å¿…ãšHTTPSã‚’ä½¿ç”¨

3. **ç’°å¢ƒå¤‰æ•°ã®ä¿è­·**
   - `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Gitã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„
   - `SUPABASE_SERVICE_KEY`ã¯çµ¶å¯¾ã«å…¬é–‹ã—ãªã„

4. **SKIP_AUTHã‚’ç„¡åŠ¹åŒ–**
   - æœ¬ç•ªç’°å¢ƒã§ã¯`SKIP_AUTH=true`ã‚’å‰Šé™¤

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã€Œç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€

**åŸå› **: `.env`ãƒ•ã‚¡ã‚¤ãƒ«ãŒãªã„

**è§£æ±ºç­–**: `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€å¿…è¦ãªç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š

### ã€Œæ‰¿èªå¾…ã¡ç‰¹è¨±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€

**åŸå› **: 
- Supabaseæ¥ç¶šã‚¨ãƒ©ãƒ¼
- ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–**: 
1. `.env`ã®Supabaseè¨­å®šã‚’ç¢ºèª
2. `supabase-schema.sql`ã‚’å†å®Ÿè¡Œ

### 404ã‚¨ãƒ©ãƒ¼ï¼ˆç®¡ç†è€…ãƒšãƒ¼ã‚¸ï¼‰

**åŸå› **: ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„

**è§£æ±ºç­–**: `/auth.html`ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã‹ã‚‰ç®¡ç†è€…ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹

### owner_nameãŒã€Œä¸æ˜ã€

**åŸå› **: usersãƒ†ãƒ¼ãƒ–ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ãŒãªã„

**è§£æ±ºç­–**: å‡ºå“è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ç‰¹è¨±ã‚’ç™»éŒ²

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ISC

## ğŸ‘¤ ä½œæˆè€…

GOTO

---

è©³ç´°ãªèµ·å‹•æ‰‹é †ã¯ã€Œèµ·å‹•ã‚¬ã‚¤ãƒ‰.txtã€ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
